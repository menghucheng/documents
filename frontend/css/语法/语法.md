# CSS 语法

## 1. CSS 语法基础

CSS 规则由选择器和声明块组成，声明块包含一个或多个声明，每个声明由属性和值组成。

### 1.1 基本语法结构

```css
/* 单个选择器 */
selector {
    property1: value1;
    property2: value2;
}

/* 多个选择器共享同一组样式 */
selector1, selector2, selector3 {
    property: value;
}
```

### 1.2 选择器

选择器用于选择要应用样式的 HTML 元素。CSS 提供了多种选择器类型：

| 选择器类型 | 示例 | 描述 |
|------------|------|------|
| **元素选择器** | `p` | 选择所有 `<p>` 元素 |
| **类选择器** | `.myClass` | 选择所有带有 `class="myClass"` 的元素 |
| **ID 选择器** | `#myId` | 选择带有 `id="myId"` 的元素 |
| **通用选择器** | `*` | 选择所有元素 |
| **后代选择器** | `div p` | 选择 `<div>` 内的所有 `<p>` 元素 |
| **子选择器** | `div > p` | 选择 `<div>` 的直接子 `<p>` 元素 |
| **相邻兄弟选择器** | `div + p` | 选择 `<div>` 后面的第一个 `<p>` 元素 |
| **通用兄弟选择器** | `div ~ p` | 选择 `<div>` 后面的所有 `<p>` 元素 |

### 1.3 声明

声明由属性和值组成，用冒号 `:` 分隔，用分号 `;` 结束。

```css
/* 单个声明 */
color: red;

/* 多个声明 */
color: red;
font-size: 16px;
margin: 10px;
```

## 2. CSS 属性

CSS 属性用于定义元素的样式，如颜色、字体、大小、位置等。CSS 属性可以分为以下几类：

### 2.1 文本属性

| 属性 | 描述 | 示例 |
|------|------|------|
| `color` | 文本颜色 | `color: red;` |
| `font-family` | 字体系列 | `font-family: Arial, sans-serif;` |
| `font-size` | 字体大小 | `font-size: 16px;` |
| `font-weight` | 字体粗细 | `font-weight: bold;` |
| `font-style` | 字体样式 | `font-style: italic;` |
| `text-align` | 文本对齐 | `text-align: center;` |
| `text-decoration` | 文本装饰 | `text-decoration: underline;` |
| `text-transform` | 文本转换 | `text-transform: uppercase;` |
| `line-height` | 行高 | `line-height: 1.5;` |
| `letter-spacing` | 字间距 | `letter-spacing: 2px;` |
| `word-spacing` | 词间距 | `word-spacing: 4px;` |
| `text-indent` | 首行缩进 | `text-indent: 2em;` |
| `white-space` | 空白处理 | `white-space: nowrap;` |
| `text-overflow` | 文本溢出处理 | `text-overflow: ellipsis;` |

### 2.2 盒模型属性

| 属性 | 描述 | 示例 |
|------|------|------|
| `width` | 宽度 | `width: 100px;` |
| `height` | 高度 | `height: 100px;` |
| `margin` | 外边距 | `margin: 10px;` |
| `margin-top` | 上外边距 | `margin-top: 10px;` |
| `margin-right` | 右外边距 | `margin-right: 10px;` |
| `margin-bottom` | 下外边距 | `margin-bottom: 10px;` |
| `margin-left` | 左外边距 | `margin-left: 10px;` |
| `padding` | 内边距 | `padding: 10px;` |
| `padding-top` | 上内边距 | `padding-top: 10px;` |
| `padding-right` | 右内边距 | `padding-right: 10px;` |
| `padding-bottom` | 下内边距 | `padding-bottom: 10px;` |
| `padding-left` | 左内边距 | `padding-left: 10px;` |
| `border` | 边框 | `border: 1px solid black;` |
| `border-width` | 边框宽度 | `border-width: 1px;` |
| `border-style` | 边框样式 | `border-style: solid;` |
| `border-color` | 边框颜色 | `border-color: black;` |
| `border-radius` | 边框圆角 | `border-radius: 5px;` |
| `box-sizing` | 盒模型计算方式 | `box-sizing: border-box;` |
| `box-shadow` | 盒阴影 | `box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);` |

### 2.3 背景属性

| 属性 | 描述 | 示例 |
|------|------|------|
| `background-color` | 背景颜色 | `background-color: #f0f0f0;` |
| `background-image` | 背景图片 | `background-image: url("image.jpg");` |
| `background-repeat` | 背景图片重复方式 | `background-repeat: no-repeat;` |
| `background-position` | 背景图片位置 | `background-position: center;` |
| `background-size` | 背景图片大小 | `background-size: cover;` |
| `background-attachment` | 背景图片固定方式 | `background-attachment: fixed;` |
| `background` | 背景简写属性 | `background: #f0f0f0 url("image.jpg") no-repeat center/cover fixed;` |
| `background-gradient` | 背景渐变 | `background: linear-gradient(to right, red, blue);` |

### 2.4 布局属性

| 属性 | 描述 | 示例 |
|------|------|------|
| `display` | 元素显示类型 | `display: block;` |
| `position` | 元素定位方式 | `position: relative;` |
| `top` | 上偏移量 | `top: 10px;` |
| `right` | 右偏移量 | `right: 10px;` |
| `bottom` | 下偏移量 | `bottom: 10px;` |
| `left` | 左偏移量 | `left: 10px;` |
| `z-index` | 堆叠顺序 | `z-index: 10;` |
| `float` | 浮动 | `float: left;` |
| `clear` | 清除浮动 | `clear: both;` |
| `overflow` | 溢出处理 | `overflow: hidden;` |
| `overflow-x` | 水平溢出处理 | `overflow-x: scroll;` |
| `overflow-y` | 垂直溢出处理 | `overflow-y: auto;` |
| `visibility` | 可见性 | `visibility: hidden;` |
| `opacity` | 透明度 | `opacity: 0.5;` |
| `cursor` | 鼠标指针样式 | `cursor: pointer;` |

### 2.5 Flexbox 属性

| 属性 | 描述 | 示例 |
|------|------|------|
| `display: flex` | 启用 Flexbox 布局 | `display: flex;` |
| `flex-direction` | 主轴方向 | `flex-direction: row;` |
| `flex-wrap` | 是否换行 | `flex-wrap: wrap;` |
| `justify-content` | 主轴对齐方式 | `justify-content: center;` |
| `align-items` | 交叉轴对齐方式 | `align-items: center;` |
| `align-content` | 多行对齐方式 | `align-content: space-between;` |
| `flex` | 伸缩比例 | `flex: 1;` |
| `flex-grow` | 放大比例 | `flex-grow: 1;` |
| `flex-shrink` | 缩小比例 | `flex-shrink: 1;` |
| `flex-basis` | 基准大小 | `flex-basis: 0;` |
| `align-self` | 单个项目对齐方式 | `align-self: center;` |
| `order` | 项目顺序 | `order: 1;` |

### 2.6 Grid 属性

| 属性 | 描述 | 示例 |
|------|------|------|
| `display: grid` | 启用 Grid 布局 | `display: grid;` |
| `grid-template-columns` | 列定义 | `grid-template-columns: 1fr 2fr 1fr;` |
| `grid-template-rows` | 行定义 | `grid-template-rows: auto 1fr auto;` |
| `grid-template-areas` | 区域定义 | `grid-template-areas: "header header" "main sidebar" "footer footer";` |
| `grid-column-gap` | 列间距 | `grid-column-gap: 10px;` |
| `grid-row-gap` | 行间距 | `grid-row-gap: 10px;` |
| `grid-gap` | 间距简写 | `grid-gap: 10px;` |
| `justify-items` | 单元格水平对齐 | `justify-items: center;` |
| `align-items` | 单元格垂直对齐 | `align-items: center;` |
| `justify-content` | 网格水平对齐 | `justify-content: center;` |
| `align-content` | 网格垂直对齐 | `align-content: center;` |
| `grid-column` | 项目列位置 | `grid-column: 1 / 3;` |
| `grid-row` | 项目行位置 | `grid-row: 1 / 2;` |
| `grid-area` | 项目区域 | `grid-area: header;` |

## 3. CSS 值

CSS 值用于定义属性的具体样式，如颜色、尺寸、位置等。

### 3.1 颜色值

#### 3.1.1 十六进制颜色

十六进制颜色使用 `#` 后跟 6 个十六进制数字（0-9, A-F）表示：

```css
/* 6位十六进制颜色 */
color: #FF0000; /* 红色 */
color: #00FF00; /* 绿色 */
color: #0000FF; /* 蓝色 */

/* 3位十六进制颜色（简写） */
color: #F00; /* 红色，等同于 #FF0000 */
color: #0F0; /* 绿色，等同于 #00FF00 */
color: #00F; /* 蓝色，等同于 #0000FF */
```

#### 3.1.2 RGB 颜色

RGB 颜色使用 `rgb()` 函数表示，包含三个参数：红色、绿色和蓝色的强度（0-255）：

```css
color: rgb(255, 0, 0); /* 红色 */
color: rgb(0, 255, 0); /* 绿色 */
color: rgb(0, 0, 255); /* 蓝色 */
```

#### 3.1.3 RGBA 颜色

RGBA 颜色使用 `rgba()` 函数表示，包含四个参数：红色、绿色、蓝色的强度（0-255）和透明度（0-1）：

```css
color: rgba(255, 0, 0, 0.5); /* 半透明红色 */
color: rgba(0, 255, 0, 0.8); /* 80% 不透明绿色 */
background-color: rgba(0, 0, 0, 0.3); /* 30% 不透明黑色背景 */
```

#### 3.1.4 HSL 颜色

HSL 颜色使用 `hsl()` 函数表示，包含三个参数：色相（0-360）、饱和度（0-100%）和亮度（0-100%）：

```css
color: hsl(0, 100%, 50%); /* 红色 */
color: hsl(120, 100%, 50%); /* 绿色 */
color: hsl(240, 100%, 50%); /* 蓝色 */
```

#### 3.1.5 HSLA 颜色

HSLA 颜色使用 `hsla()` 函数表示，包含四个参数：色相（0-360）、饱和度（0-100%）、亮度（0-100%）和透明度（0-1）：

```css
color: hsla(0, 100%, 50%, 0.5); /* 半透明红色 */
color: hsla(120, 100%, 50%, 0.8); /* 80% 不透明绿色 */
background-color: hsla(240, 100%, 50%, 0.3); /* 30% 不透明蓝色背景 */
```

#### 3.1.6 颜色名称

CSS 支持预定义的颜色名称：

```css
color: red; /* 红色 */
color: green; /* 绿色 */
color: blue; /* 蓝色 */
color: yellow; /* 黄色 */
color: orange; /* 橙色 */
color: purple; /* 紫色 */
color: pink; /* 粉色 */
color: gray; /* 灰色 */
color: black; /* 黑色 */
color: white; /* 白色 */
```

### 3.2 长度值

#### 3.2.1 绝对长度单位

绝对长度单位与屏幕尺寸无关，适合打印样式：

| 单位 | 描述 | 换算关系 |
|------|------|----------|
| `cm` | 厘米 | 1cm = 37.8px |
| `mm` | 毫米 | 1mm = 3.78px |
| `in` | 英寸 | 1in = 96px |
| `px` | 像素 | 1px = 1/96in |
| `pt` | 点 | 1pt = 1/72in |
| `pc` | 派卡 | 1pc = 12pt |

#### 3.2.2 相对长度单位

相对长度单位与其他长度相关，适合响应式设计：

| 单位 | 描述 | 示例 |
|------|------|------|
| `%` | 相对于父元素的百分比 | `width: 50%;` |
| `em` | 相对于元素的字体大小 | `font-size: 1.5em;` |
| `rem` | 相对于根元素的字体大小 | `font-size: 1.2rem;` |
| `vw` | 相对于视口宽度的 1% | `width: 50vw;` |
| `vh` | 相对于视口高度的 1% | `height: 50vh;` |
| `vmin` | 相对于视口宽度和高度中较小值的 1% | `font-size: 5vmin;` |
| `vmax` | 相对于视口宽度和高度中较大值的 1% | `font-size: 5vmax;` |

### 3.3 时间值

时间值用于动画和过渡：

| 单位 | 描述 | 示例 |
|------|------|------|
| `s` | 秒 | `transition: all 0.3s;` |
| `ms` | 毫秒 | `animation: slide 500ms;` |

### 3.4 角度值

角度值用于变换和渐变：

| 单位 | 描述 | 示例 |
|------|------|------|
| `deg` | 度 | `transform: rotate(45deg);` |
| `rad` | 弧度 | `transform: rotate(0.785rad);` |
| `grad` | 梯度 | `transform: rotate(50grad);` |
| `turn` | 圈 | `transform: rotate(0.25turn);` |

### 3.5 关键字值

关键字值是预定义的单词或短语：

```css
/* 显示类型 */
display: block;
display: inline;
display: inline-block;
display: flex;
display: grid;

/* 定位方式 */
position: static;
position: relative;
position: absolute;
position: fixed;
position: sticky;

/* 文本对齐 */
text-align: left;
text-align: center;
text-align: right;
text-align: justify;

/* 浮动 */
float: left;
float: right;
float: none;
```

## 4. CSS 函数

CSS 函数用于计算或生成值，如颜色、尺寸、位置等。

### 4.1 颜色函数

| 函数 | 描述 | 示例 |
|------|------|------|
| `rgb()` | 创建 RGB 颜色 | `rgb(255, 0, 0)` |
| `rgba()` | 创建带透明度的 RGB 颜色 | `rgba(255, 0, 0, 0.5)` |
| `hsl()` | 创建 HSL 颜色 | `hsl(0, 100%, 50%)` |
| `hsla()` | 创建带透明度的 HSL 颜色 | `hsla(0, 100%, 50%, 0.5)` |
| `color()` | 创建指定颜色空间的颜色 | `color(display-p3 1 0 0)` |
| `transparent` | 透明色 | `color: transparent;` |

### 4.2 数学函数

| 函数 | 描述 | 示例 |
|------|------|------|
| `calc()` | 计算 CSS 值 | `width: calc(100% - 20px);` |
| `min()` | 返回最小值 | `width: min(500px, 100%);` |
| `max()` | 返回最大值 | `width: max(300px, 50%);` |
| `clamp()` | 返回指定范围内的值 | `font-size: clamp(16px, 2vw, 24px);` |
| `abs()` | 返回绝对值 | `margin: abs(-10px);` |
| `sqrt()` | 返回平方根 | `width: sqrt(2500px);` |
| `pow()` | 返回幂运算结果 | `width: pow(10, 2);` |
| `sin()` | 返回正弦值 | `transform: rotate(sin(45deg));` |
| `cos()` | 返回余弦值 | `transform: rotate(cos(45deg));` |
| `tan()` | 返回正切值 | `transform: rotate(tan(45deg));` |

### 4.3 背景函数

| 函数 | 描述 | 示例 |
|------|------|------|
| `url()` | 引用外部资源 | `background-image: url("image.jpg");` |
| `linear-gradient()` | 创建线性渐变 | `background: linear-gradient(to right, red, blue);` |
| `radial-gradient()` | 创建径向渐变 | `background: radial-gradient(circle, red, blue);` |
| `conic-gradient()` | 创建圆锥渐变 | `background: conic-gradient(from 0deg, red, yellow, green, blue, purple, red);` |
| `repeating-linear-gradient()` | 创建重复线性渐变 | `background: repeating-linear-gradient(45deg, red, blue 10px, green 20px);` |
| `repeating-radial-gradient()` | 创建重复径向渐变 | `background: repeating-radial-gradient(circle, red, blue 10px, green 20px);` |
| `repeating-conic-gradient()` | 创建重复圆锥渐变 | `background: repeating-conic-gradient(from 0deg, red 0deg, blue 10deg, green 20deg);` |

### 4.4 变换函数

| 函数 | 描述 | 示例 |
|------|------|------|
| `translate()` | 平移元素 | `transform: translate(10px, 20px);` |
| `rotate()` | 旋转元素 | `transform: rotate(45deg);` |
| `scale()` | 缩放元素 | `transform: scale(1.5);` |
| `skew()` | 倾斜元素 | `transform: skew(10deg, 5deg);` |
| `matrix()` | 矩阵变换 | `transform: matrix(1, 0, 0, 1, 10, 20);` |
| `perspective()` | 设置透视效果 | `transform: perspective(1000px) rotateY(45deg);` |

### 4.5 其他函数

| 函数 | 描述 | 示例 |
|------|------|------|
| `var()` | 使用 CSS 变量 | `color: var(--primary-color);` |
| `attr()` | 获取元素属性值 | `content: attr(data-text);` |
| `counter()` | 使用计数器 | `content: counter(section);` |
| `counters()` | 使用嵌套计数器 | `content: counters(section, ".");` |
| `url()` | 引用外部资源 | `background-image: url("image.jpg");` |
| `element()` | 引用页面中的元素 | `background-image: element(#myElement);` |
| `image()` | 创建图像 | `background-image: image("image.jpg", "fallback.jpg");` |

## 5. CSS 变量

CSS 变量（自定义属性）允许在 CSS 中定义和使用变量，便于维护和更新样式。

### 5.1 定义 CSS 变量

CSS 变量可以在任何选择器中定义，但通常在 `:root` 伪类中定义，以便全局使用：

```css
/* 全局 CSS 变量 */
:root {
    --primary-color: #007bff;
    --secondary-color: #6c757d;
    --font-size: 16px;
    --spacing: 16px;
    --border-radius: 4px;
    --box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* 局部 CSS 变量 */
.card {
    --card-bg: #ffffff;
    --card-color: #333333;
    background-color: var(--card-bg);
    color: var(--card-color);
}
```

### 5.2 使用 CSS 变量

使用 `var()` 函数可以在 CSS 中使用变量：

```css
body {
    font-size: var(--font-size);
    color: var(--primary-color);
    margin: 0;
    padding: 0;
}

.button {
    background-color: var(--primary-color);
    color: white;
    padding: var(--spacing);
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    border: none;
    cursor: pointer;
}

.button:hover {
    background-color: var(--secondary-color);
}
```

### 5.3 CSS 变量的特性

- **继承性**：CSS 变量会继承，子元素可以使用父元素定义的变量
- **可覆盖性**：可以在子元素中重新定义变量，覆盖父元素的定义
- **支持计算**：可以使用 `calc()` 函数与 CSS 变量结合使用
- **动态性**：可以在 JavaScript 中访问和修改 CSS 变量

```css
/* 计算 */
.container {
    width: calc(100% - var(--spacing) * 2);
    margin: 0 auto;
}

/* 继承和覆盖 */
.parent {
    --color: red;
    color: var(--color);
}

.child {
    --color: blue; /* 覆盖父元素的变量 */
    color: var(--color);
}
```

### 5.4 在 JavaScript 中使用 CSS 变量

可以使用 JavaScript 访问和修改 CSS 变量：

```javascript
// 获取 CSS 变量
const root = document.documentElement;
const primaryColor = getComputedStyle(root).getPropertyValue('--primary-color');
console.log(primaryColor); // 输出: #007bff

// 设置 CSS 变量
root.style.setProperty('--primary-color', '#ff0000');

// 获取元素的 CSS 变量
const card = document.querySelector('.card');
const cardBg = getComputedStyle(card).getPropertyValue('--card-bg');
console.log(cardBg); // 输出: #ffffff

// 设置元素的 CSS 变量
card.style.setProperty('--card-bg', '#f0f0f0');
```

## 6. CSS 注释

CSS 注释用于解释 CSS 代码，不会被浏览器解析。

### 6.1 单行注释

```css
/* 这是一个单行注释 */
p {
    color: red; /* 这是行内注释 */
}
```

### 6.2 多行注释

```css
/*
这是一个多行注释
可以包含多行内容
用于解释复杂的样式规则
*/
.container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 16px;
}
```

### 6.3 注释最佳实践

- **解释复杂规则**：对于复杂的样式规则，添加注释说明其用途和工作原理
- **划分代码块**：使用注释划分不同功能的代码块
- **标注浏览器兼容性**：对于需要特殊处理的浏览器，添加注释说明
- **避免过度注释**：只注释必要的内容，避免注释显而易见的代码

## 7. CSS 语法最佳实践

### 7.1 代码格式

- **使用一致的缩进**：通常使用 2 或 4 个空格
- **每个声明占一行**：提高可读性
- **在属性和值之间添加空格**：如 `color: red;` 而不是 `color:red;`
- **在选择器和声明块之间添加空格**：如 `p {` 而不是 `p{`
- **在多个选择器之间添加换行**：提高可读性

```css
/* 推荐 */
body, html {
    margin: 0;
    padding: 0;
    font-family: Arial, sans-serif;
}

/* 不推荐 */
body,html{margin:0;padding:0;font-family:Arial,sans-serif;}
```

### 7.2 选择器使用

- **使用语义化的类名**：如 `.button-primary` 而不是 `.btn-1`
- **避免使用 ID 选择器**：ID 选择器优先级高，难以覆盖
- **避免使用复杂的选择器**：如 `div > ul > li > a`
- **使用 BEM 命名规范**：如 `.block__element--modifier`

### 7.3 属性顺序

- **按功能分组属性**：如布局属性、盒模型属性、文本属性、背景属性等
- **遵循一致的属性顺序**：提高可读性和可维护性

```css
/* 推荐 */
.container {
    /* 布局属性 */
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    
    /* 盒模型属性 */
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 16px;
    border: 1px solid #e0e0e0;
    border-radius: 4px;
    
    /* 背景属性 */
    background-color: #ffffff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    
    /* 文本属性 */
    color: #333333;
    font-size: 16px;
    line-height: 1.5;
}
```

### 7.4 避免重复代码

- **使用 CSS 变量**：减少重复的颜色、尺寸等
- **使用混合（Mixins）**：在预处理器中使用混合复用样式
- **使用继承**：在预处理器中使用继承复用样式

### 7.5 性能优化

- **减少 CSS 文件大小**：使用压缩工具
- **优化选择器**：避免使用复杂的选择器
- **减少 HTTP 请求**：合并 CSS 文件
- **避免使用 @import**：使用 `<link>` 标签代替
- **使用 CSS 变量**：减少重复代码

## 8. 总结

CSS 语法是前端开发的基础，掌握 CSS 语法对于创建美观、高效、响应式的网页至关重要。通过学习 CSS 语法，你可以：

- 理解 CSS 规则的基本结构
- 掌握各种 CSS 属性和值
- 学习 CSS 函数的使用
- 了解 CSS 变量的定义和使用
- 掌握 CSS 注释的写法
- 遵循 CSS 语法最佳实践

CSS 语法不断发展，新的属性、值和函数不断推出。随着 CSS 技术的不断进步，前端开发者需要不断学习和更新自己的知识，以创建更好的用户体验。