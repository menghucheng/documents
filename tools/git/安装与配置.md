# Git 安装与配置

## 1. Git 安装

### 1.1 Windows 安装

1. 访问 [Git 官网](https://git-scm.com/download/win) 下载最新版本的 Git for Windows
2. 运行安装程序，按照提示进行安装
3. 安装完成后，打开命令提示符或 PowerShell，输入 `git --version` 验证安装

```bash
$ git --version
git version 2.45.1.windows.1
```

### 1.2 macOS 安装

使用 Homebrew 安装：

```bash
$ brew install git
```

或使用 Xcode 命令行工具：

```bash
$ xcode-select --install
```

验证安装：

```bash
$ git --version
git version 2.45.1
```

### 1.3 Linux 安装

#### Ubuntu/Debian

```bash
$ sudo apt update
$ sudo apt install git
```

#### CentOS/RHEL

```bash
$ sudo yum install git
```

或使用 dnf：

```bash
$ sudo dnf install git
```

验证安装：

```bash
$ git --version
git version 2.45.1
```

## 2. Git 配置

### 2.1 配置级别

Git 有三个配置级别：

- **系统级**：适用于所有用户，存储在 `/etc/gitconfig`（Linux/macOS）或 `C:\ProgramData\Git\config`（Windows）
- **用户级**：适用于当前用户，存储在 `~/.gitconfig`（Linux/macOS）或 `C:\Users\用户名\.gitconfig`（Windows）
- **仓库级**：适用于当前仓库，存储在 `.git/config`

优先级：仓库级 > 用户级 > 系统级

### 2.2 配置命令

#### 2.2.1 查看配置

查看所有配置：

```bash
$ git config --list
```

查看特定配置：

```bash
$ git config user.name
```

查看配置文件位置：

```bash
$ git config --list --show-origin
```

#### 2.2.2 设置用户信息

设置用户名和邮箱（重要，用于提交记录）：

```bash
$ git config --global user.name "Your Name"
$ git config --global user.email "your.email@example.com"
```

#### 2.2.3 设置默认编辑器

设置默认文本编辑器，用于撰写提交信息：

```bash
# 使用 VS Code
$ git config --global core.editor "code --wait"

# 使用 Vim
$ git config --global core.editor "vim"

# 使用 Nano
$ git config --global core.editor "nano"
```

#### 2.2.4 设置换行符处理

Windows 和 Unix 系统的换行符不同，Git 可以自动处理：

```bash
# Windows 用户
$ git config --global core.autocrlf true

# Linux/macOS 用户
$ git config --global core.autocrlf input
```

#### 2.2.5 设置颜色显示

启用 Git 命令输出的颜色显示：

```bash
$ git config --global color.ui true
```

#### 2.2.6 设置别名

为常用命令设置别名，提高工作效率：

```bash
$ git config --global alias.st status
$ git config --global alias.ci commit
$ git config --global alias.co checkout
$ git config --global alias.br branch
$ git config --global alias.lg "log --oneline --graph --decorate --all"
```

## 3. 初始化仓库

### 3.1 在现有目录初始化

进入项目目录，执行以下命令初始化 Git 仓库：

```bash
$ git init
```

输出：

```
Initialized empty Git repository in /path/to/project/.git/
```

这将在当前目录创建一个 `.git` 目录，包含 Git 仓库的所有信息。

### 3.2 克隆远程仓库

从远程仓库复制到本地：

```bash
$ git clone <远程仓库URL>
```

例如：

```bash
$ git clone https://github.com/user/repo.git
```

克隆时指定目录名：

```bash
$ git clone https://github.com/user/repo.git my-project
```

输出：

```
Cloning into 'repo'...
remote: Enumerating objects: 100, done.
remote: Counting objects: 100% (100/100), done.
remote: Compressing objects: 100% (70/70), done.
remote: Total 100 (delta 30), reused 100 (delta 30), pack-reused 0
Receiving objects: 100% (100/100), 10.00 KiB | 1.00 MiB/s, done.
Resolving deltas: 100% (30/30), done.
```

## 4. 配置示例

完整的用户级配置示例（`~/.gitconfig`）：

```ini
[user]
    name = Your Name
    email = your.email@example.com
[core]
    editor = code --wait
    autocrlf = true
    color = true
[alias]
    st = status
    ci = commit
    co = checkout
    br = branch
    lg = log --oneline --graph --decorate --all
[pull]
    rebase = false
[push]
    default = simple
```

## 5. 常见配置问题

### 5.1 用户名和邮箱配置错误

如果发现用户名或邮箱配置错误，可以重新设置：

```bash
$ git config --global user.name "Correct Name"
$ git config --global user.email "correct.email@example.com"
```

### 5.2 编辑器问题

如果 Git 无法启动指定的编辑器，检查编辑器是否正确安装，或尝试设置其他编辑器：

```bash
$ git config --global core.editor "vim"
```

### 5.3 换行符问题

如果遇到换行符导致的冲突，可以重新设置 autocrlf：

```bash
# Windows
$ git config --global core.autocrlf true

# Linux/macOS
$ git config --global core.autocrlf input
```
